<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Write.Run.Iterate.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="icon" href="/favicon.ico" type="image/png" />

      <link rel="stylesheet" href="./src/styles/styles.css" />
      <link rel="stylesheet" href="./src/styles/themes.css" />
      <link rel="stylesheet" href="./src/styles/syntax.css" />
      <link rel="stylesheet" href="./src/styles/btnStyles.css" />
      <link rel="stylesheet" href="./src/styles/consoleTheme.css">
      <link rel="stylesheet" href="./src/styles/dev-insights-panel.css" />

    <!-- Import map keeps bare-module aliases (e.g. @shared/*) working without a bundler -->
    <script type="importmap">
      {
        "imports": {
          "@app/": "./src/app/",
          "@components/": "./src/components/",
          "@editor/": "./src/components/editor/",
          "@shared/": "./src/shared/",
          "@features/": "./src/features/"
        }
      }
    </script>
    <script defer type="module" src="src/app/main.js"></script>
  </head>
  <body class="dark-theme">
    <header>
      <h2>JavaScript Online Compiler</h2>
        <nav class="controls" aria-label="Editor Controls">
            <button id="theme-toggle" class="btn btn-icon btn-secondary" aria-label="Toggle Theme" title="Toggle Theme">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
            </button>
            <div class="btn-separator"></div>
            <button id="run-btn" class="btn btn-icon btn-primary" aria-label="Run Code" title="Run Code (Ctrl+Enter)">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M8 5.14v14l11-7-11-7z"/>
                </svg>
            </button>
            <button id="copy-btn" class="btn btn-icon btn-success" aria-label="Copy Code" title="Copy Code">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"/>
                </svg>
            </button>
            <button id="header-clear-btn" class="btn btn-icon btn-warning" aria-label="Clear Code" title="Clear All">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                </svg>
            </button>
        </nav>
    </header>
    <main class="playground-wrapper">
      <section class="editor-section">
        <div class="editor-wrapper">
          <div id="line-numbers"></div>
          <div class="editor-container">
            <div id="active-line-indicator" aria-hidden="true"></div>
            <pre id="highlighted-code"></pre>
            <div id="selection-overlay" aria-hidden="true"></div>
            <div
              id="code-text"
              contenteditable="true"
              tabindex="0"
              role="textbox"
              aria-label="JavaScript code editor"
              aria-multiline="true"
              data-placeholder="Type JavaScript or Fetch API calls here..."
            ></div>
          </div>
        </div>
      </section>
      <div class="vertical-divider"></div>
      <section class="output-section" aria-label="Output">
          <button id="console-clear-btn" class="panel-chip panel-chip-danger" title="Clear Console" style="display: none;">Clear</button>
          <div id="output" data-filter="all" aria-live="polite"></div>
      </section>
    </main>
    <footer>
      <div id="summary-bar">
        <div id="exec-time">‚è±Ô∏è Total Time: <span style="color: #a6e22e">0.00 ms</span></div>
        <div id="summary-icons">üß© 0 func | üîÅ 0 loops | ‚è≥ 0 async</div>
        <div id="cursor-meta" aria-live="polite">Ln 1, Col 1 | 0 chars</div>
      </div>
    </footer>
  </body>
</html>
